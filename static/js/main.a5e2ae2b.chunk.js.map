{"version":3,"sources":["components/Header.js","Context.js","components/Story.js","components/Stories.js","components/Comment.js","components/Item.js","components/Favorites.js","components/Pages.js","App.js","index.js"],"names":["Header","id","className","src","alt","exact","to","activeStyle","color","Context","React","createContext","Story","index","story","isFavorite","addFavorite","removeFavorite","href","url","title","domain","points","user","time_ago","comments_count","onClick","Stories","path","useState","stories","setStories","isLoading","setIsLoading","isError","setIsError","useContext","baseUrl","favorites","useEffect","a","fetch","response","json","viewStories","map","i","key","some","favoriteStory","Comment","comment","hasNestedComments","comments","length","level","dangerouslySetInnerHTML","__html","content","Item","props","location","useLocation","query","URLSearchParams","search","setStory","setComments","get","Favorites","Pages","App","ReactDOM","render","setFavorites","favoritesFromStorage","JSON","parse","localStorage","getItem","setItem","stringify","Provider","value","prev","filter","favorite","children","document","getElementById"],"mappings":"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","file":"static/js/main.a5e2ae2b.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {NavLink} from \"react-router-dom\"\r\n\r\nfunction Header() {\r\n    return (\r\n        <div id=\"app-header\">\r\n            <header className=\"header\">\r\n            <div className=\"flex\">\r\n                <span className=\"header-title\">\r\n                    <img\r\n                        src=\"https://icon.now.sh/ycombinator/fff\"\r\n                        alt=\"\"\r\n                        className=\"header-logo\"\r\n                    />\r\n                    HackerNews\r\n                </span>\r\n                <NavLink\r\n                    exact to=\"/\"\r\n                    className=\"header-link\"\r\n                    activeStyle={{\r\n                        color: \"white\"\r\n                    }}\r\n                >\r\n                    top\r\n                </NavLink>\r\n                |  \r\n                <NavLink\r\n                    to=\"/new\"\r\n                    className=\"header-link\"\r\n                    activeStyle={{\r\n                        color: \"white\"\r\n                    }}\r\n                >\r\n                    new\r\n                </NavLink>\r\n                |\r\n                <NavLink\r\n                    to=\"/ask\"\r\n                    className=\"header-link\"\r\n                    activeStyle={{\r\n                        color: \"white\"\r\n                    }}\r\n                >\r\n                    ask\r\n                </NavLink>\r\n                |\r\n                <NavLink\r\n                    to=\"/show\"\r\n                    className=\"header-link\"\r\n                    activeStyle={{\r\n                        color: \"white\"\r\n                    }}\r\n                >\r\n                    show\r\n                </NavLink>\r\n                |\r\n                <NavLink\r\n                    to=\"/favorites\"\r\n                    className=\"header-link\"\r\n                    activeStyle={{\r\n                        color: \"white\"\r\n                    }}\r\n                >\r\n                    favorites\r\n                </NavLink>\r\n            </div>\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header","import React, {useState, useEffect} from \"react\"\r\n\r\nconst Context = React.createContext()\r\n\r\nfunction ContextProvider(props) {\r\n\r\n    const [baseUrl, setBaseUrl] = useState(\"https://node-hnapi.herokuapp.com\")\r\n    const [favorites, setFavorites] = useState([])\r\n\r\n    \r\n    function addFavorite(story) {\r\n        setFavorites(prev => [...prev, story])\r\n    }\r\n\r\n    function removeFavorite(story) {\r\n        setFavorites(prev => prev.filter(favorite => favorite.id !== story.id))\r\n    }\r\n\r\n    useEffect(() => {\r\n        const favoritesFromStorage = JSON.parse(localStorage.getItem(\"favorites\")) || []\r\n        setFavorites(favoritesFromStorage)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"favorites\", JSON.stringify(favorites))\r\n    }, [favorites])\r\n\r\n    return (\r\n        <Context.Provider value={ {baseUrl, favorites, addFavorite, removeFavorite} }>\r\n            {props.children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport {ContextProvider, Context}","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nfunction Story({index, story, isFavorite, addFavorite, removeFavorite}) {\r\n    return (\r\n        <div className=\"story\">\r\n            <div>\r\n                {index ? <span className=\"gray\">{`${index}.`}</span> : \"\"}\r\n                <span className=\"upvote\">â–² </span>\r\n                <a href={story.url}>{story.title}</a>\r\n                {story.domain ? <span> ({story.domain})</span> : <span></span>}\r\n            </div>\r\n\r\n            <div>\r\n                <div className=\"gray\">\r\n                    {story.points} points by {story.user} {story.time_ago}\r\n                    {\" | \"}\r\n                    <Link to={`/item?id=${story.id}`}>\r\n                        {story.comments_count} comments\r\n                    </Link>\r\n                    {\" | \"}\r\n                    <span className=\"favorite\" onClick={() => isFavorite ? removeFavorite(story) : addFavorite(story)}>\r\n                        <img className=\"heart\" src=\"https://icon.now.sh/heart/ccc\" alt=\"\"/>\r\n                        {isFavorite ? \" Remove From Favorites\" : \" Add To Favorites\"}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Story\r\n\r\n","import React, {useState, useEffect, useContext} from \"react\"\r\n\r\nimport {Context} from \"../Context\"\r\nimport Story from \"./Story\"\r\n\r\nfunction Stories({path}) {\r\n\r\n    const [stories, setStories] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [isError, setIsError] = useState(false)\r\n    \r\n    const {baseUrl, favorites, addFavorite, removeFavorite} = useContext(Context)\r\n\r\n    const url = `${baseUrl}/${path}`\r\n    useEffect(() => {\r\n        (async function getStories() {\r\n            setIsError(false)\r\n            setIsLoading(true)\r\n\r\n            try {\r\n                const response = await fetch(url)\r\n                const stories = await response.json()\r\n                setStories(stories)\r\n            } catch (error) {\r\n                setIsError(true)\r\n            }\r\n\r\n            setIsLoading(false)\r\n        })()\r\n    }, [path])\r\n\r\n    const viewStories = stories.map((story, i) => {\r\n        return (\r\n            <Story\r\n                key={story.id}\r\n                story={story}\r\n                index={i + 1}\r\n                isFavorite={favorites.some(favoriteStory => favoriteStory.id === story.id)}\r\n                addFavorite={addFavorite}\r\n                removeFavorite={removeFavorite}\r\n            />\r\n            )  \r\n        })\r\n\r\n    return (\r\n        <div>\r\n            {isError && \"Error...\"}\r\n            {isLoading ? \"Loading...\" :\r\n            viewStories\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Stories","import React from \"react\"\r\n\r\nfunction Comment({comment}) {\r\n    const hasNestedComments = comment.comments.length > 0\r\n    return (\r\n        <div className={`nested-comments-${comment.level}`}>\r\n            <p className=\"comment-header\">\r\n                {comment.user} | {comment.time_ago}\r\n            </p>\r\n            <div dangerouslySetInnerHTML={ {__html: comment.content} } />\r\n            {hasNestedComments && comment.comments.map(comment => <Comment key={comment.id} comment={comment} />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment","import React, {useState, useEffect, useContext} from \"react\"\r\nimport {useLocation} from \"react-router-dom\"\r\n\r\nimport {Context} from \"../Context\"\r\nimport Story from \"./Story\"\r\nimport Comment from \"./Comment\"\r\n\r\nfunction Item(props) {\r\n    const location = useLocation()\r\n    const query = new URLSearchParams(location.search)\r\n\r\n    const [story, setStory] = useState([])\r\n    const [comments, setComments] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [isError, setIsError] = useState(false)\r\n    \r\n    const baseUrl = useContext(Context)\r\n    \r\n    const url = `${baseUrl}/item/${query.get(\"id\")}`\r\n    useEffect(() => {\r\n        (async function getStories() {\r\n            setIsError(false)\r\n            setIsLoading(true)\r\n\r\n            try {\r\n                const response = await fetch(url)\r\n                const story = await response.json()\r\n                setStory(story)\r\n                setComments(story.comments)\r\n            } catch (error) {\r\n                setIsError(true)\r\n            }\r\n\r\n            setIsLoading(false)\r\n        })()\r\n    }, [])\r\n    \r\n\r\n    return (\r\n        <div>\r\n            {isError ? \"Error...\" :\r\n            isLoading ? \"Loading...\" :\r\n            <>\r\n                <div>\r\n                    <Story story={story}/>\r\n                </div>\r\n                <hr/>\r\n                {comments.map(comment => <Comment key={comment.id} comment={comment} />)\r\n                }\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Item","import React, {useContext} from \"react\"\r\n\r\nimport {Context} from \"../Context\"\r\nimport Story from \"./Story\"\r\n\r\nfunction Favorites() {\r\n\r\n    const {favorites, addFavorite, removeFavorite} = useContext(Context)\r\n\r\n    const viewStories = favorites.length > 0 ? favorites.map((favoriteStory, i) => {\r\n        return (\r\n            <Story\r\n                key={favoriteStory.id}\r\n                story={favoriteStory}\r\n                index={i + 1}\r\n                isFavorite={true}\r\n                addFavorite={addFavorite}\r\n                removeFavorite={removeFavorite}\r\n            />\r\n            )  \r\n        }) : \"Add some favorites\"\r\n\r\n        \r\n    return (\r\n        <div>\r\n            {viewStories}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Favorites","import React from \"react\"\r\nimport {Switch, Route} from \"react-router-dom\"\r\n\r\nimport Stories from \"./Stories\"\r\nimport Item from \"./Item\"\r\nimport Favorites from \"./Favorites\"\r\n\r\nfunction Pages() {\r\n    return (\r\n        <div id=\"router-outlet\">\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <Stories path=\"news\"/>\r\n                </Route>\r\n\r\n                <Route path=\"/new\">\r\n                    <Stories path=\"newest\"/>\r\n                </Route>\r\n\r\n                <Route path=\"/ask\">\r\n                    <Stories path=\"ask\"/>\r\n                </Route>\r\n\r\n                <Route path=\"/show\">\r\n                    <Stories path=\"show\"/>\r\n                </Route>\r\n\r\n                <Route path=\"/favorites\">\r\n                    <Favorites />\r\n                </Route>\r\n\r\n                <Route path=\"/item\">\r\n                    <Item />\r\n                </Route>\r\n\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pages","import React from 'react'\nimport './App.css'\nimport Header from \"./components/Header\"\nimport Pages from \"./components/Pages\"\n\n\nfunction App() {\n  return (\n    <div id=\"app-container\">\n      <Header/>\n      <div id=\"route-container\">\n        <Pages/>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {BrowserRouter as Router} from \"react-router-dom\"\n\nimport App from './App'\nimport {ContextProvider} from \"./Context\"\n\nReactDOM.render(\n    <ContextProvider>\n        <Router>\n            <App />\n        </Router>\n    </ContextProvider>,\n    document.getElementById('root')\n)"],"sourceRoot":""}